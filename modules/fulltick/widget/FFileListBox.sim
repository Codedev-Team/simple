module fulltick.widget.menu FILES_TYPE =0 DIRECTORIES_TYPE =1 call "../core/FWidget.sim" ?fulltick.core class FFileListBox :FWidget setTypeName("FFilelistbox") FILE_LISTBOX_DIRECTORY ="."  WIDGET_WIDTH =300  WIDGET_HEIGHT =400  FILE_LISTBOX_SELECTION_TYPE =2  block FFileListBox() initialize() setSize(WIDGET_WIDTH,WIDGET_HEIGHT) loadDirectory(FILE_LISTBOX_DIRECTORY) type(FILE_LISTBOX_SELECTION_TYPE) block load() __file_listbox_load(WIDGETPOINTER,FILE_LISTBOX_DIRECTORY) return this block loadDirectory(dir) FILE_LISTBOX_DIRECTORY =dir load() return this block changeDirectory(dir) FILE_LISTBOX_DIRECTORY =dir load() return this block setDirectory(dir) FILE_LISTBOX_DIRECTORY =dir return this block getDirectory() return FILE_LISTBOX_DIRECTORY block type(type) FILE_LISTBOX_SELECTION_TYPE =type __listbox_type(WIDGETPOINTER,FILE_LISTBOX_SELECTION_TYPE) return this block changeSelectionType(type) return type(type) block getSelectedIndex() return __listbox_value(WIDGETPOINTER,0,null) block index()return getSelectedIndex() block setSelectedIndex(index) __listbox_value(WIDGETPOINTER,true,index) return this block select(index)return setSelectedIndex(index) block text(index) return __listbox_text(WIDGETPOINTER,index) block value(index)return text(index) block getSelectedText() return text(index()) block getSelectedValue()return getSelectedText() block selectNone()return select(-1) block setFilter(filter) __file_listbox_filter(WIDGETPOINTER,filter) return this block filter(filter)return setFilter(filter) block setFileType(type) __file_listbox_file_type(WIDGETPOINTER,type) return this block setIconSize(size) __file_listbox_icon_size(WIDGETPOINTER,size) return this block initialize() WIDGETPOINTER =__init_file_listbox(WIDGET_X,WIDGET_Y,WIDGET_WIDTH,WIDGET_HEIGHT)